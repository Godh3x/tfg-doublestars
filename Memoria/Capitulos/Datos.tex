%---------------------------------------------------------------------
%
%                          Capítulo 2
%
%---------------------------------------------------------------------
% !TEX root = ../Tesis.tex

\chapter{Recolección de datos}
\label{cap2}

\begin{resumen}
A lo largo de este capítulo veremos que herramientas hemos empleado para obtener
imágenes astronómicas con las que trabajar, así como datos de estrellas
dobles ya catalogadas.
\end{resumen}

%-------------------------------------------------------------------
\section{Aladin}
%-------------------------------------------------------------------
\label{cap2:sec:aladin}

\url{http://aladin.u-strasbg.fr/}

\medskip

\textbf{Aladin Sky Atlas} es un programa interactivo desarrollado por
el \textbf{CDS}, Centro de Datos Astronómicos de Estrasburgo, que permite
acceder recursos astronómicos digitalizados.

\medskip

Esta herramienta no solo permite visualizar imágenes de cuerpos celestes a lo
largo de los años, también permite realizar una superposición de las mismas para
facilitar su comparación.

%-------------------------------------------------------------------
\section{Obtención de imagenes}
%-------------------------------------------------------------------
\label{cap2:sec:imgdownload}

Como se describe la sección \ref{cap2:sec:aladin} es posible obtener imágenes
que muestren la evolución de los cuerpos celestes en coordenadas concretas con
años de diferencia.

\begin{figure}[t]
  \centering
  %
  \subfloat[][]{
    \includegraphics[width=0.42\textwidth]%
    {Imagenes/Vectorial/Obtencion/possi}
    \label{cap2:fig:star1}
  }
  \qquad
  \subfloat[][]{
    \includegraphics[width=0.42\textwidth]%
    {Imagenes/Vectorial/Obtencion/possii}
    \label{cap2:fig:star2}
  }

  \subfloat[][]{
    \includegraphics[width=0.42\textwidth]%
    {Imagenes/Vectorial/Obtencion/composicion}
    \label{cap2:fig:superpos}
  }
  \caption{Superposición de imagenes\label{cap2:fig:astro}}
\end{figure}

\medskip

Como se puede apreciar, figura \ref{cap2:fig:superpos}, Aladin no solo superpone
las imágenes, también las rota para tratar de encajarlas y colorea cada imagen
de un tono de modo que las estrellas pueden ser rojas o azules, dependiendo de
la imagen en que aparezcan, si el cuerpo coincide, no se ha movido, será blanca.

\medskip

Para facilitar el proceso de descarga Aladin permite emplear scripts en
combinación con ficheros de parámetros. Puesto que no existe ninguna fuente que
tenga fotos de todas las coordenadas celestes son necesarios dos scripts que
emplean las siguientes fuentes.

\begin{itemize}
  \item \textbf{POSSI} y \textbf{POSSII} para descargar imágenes de coordenadas
  positivas.
  \item \textbf{POSSI} y \textbf{SERC} para las negativas.
\end{itemize}

Además de ejecutar la superposición el script hace zoom en la coordenada
proporcionada como parámetro y almacena la imagen resultante.


%-------------------------------------------------------------------
\section{WDS}
%-------------------------------------------------------------------
\label{cap2:sec:wds}

\url{http://ad.usno.navy.mil/wds/}

\medskip

La obtención de recursos de trabajo ya ha sido resuelta en la sección
\ref{cap2:sec:imgdownload}, sin embargo, es necesario obtener un listado de
sistemas de estrellas dobles ya reconocidas que poder analizar con el fin de
semi-automatizar su reconocimiento, figura \ref{cap2:fig:wds}.

\figura{Vectorial/WDS/ProcesoWDS}{width=.5\textwidth}{cap2:fig:wds}%
{Diagrama de procesamiento para WDS}

\medskip

\textbf{WDS}, Washington Double Star Catalog, es un catalogo mantenido por
el Observatorio Naval de los Estados Unidos que recopila información sobre
sistemas de estrellas múltiples.

\medskip

El problema es que el catalogo almacena gran cantidad de estrellas, y nosotros
queremos casos de sistemas de estrellas dobles de movimiento rápido. Con el fin
de obtener la información que nos interesa hemos creado un programa que filtra
dichos datos basándose en los siguientes criterios:

\begin{itemize}
\item La última vez que se vio el sistema debe ser como mínimo 1975, esto
asegura que en los catálogos existirán al menos dos imágenes, una relativamente
actual y una de los años 50.
\item La magnitud de las estrellas que componen el sistema deben ser a lo
sumo 19, de este modo las estrellas serán apreciables a simple vista.
\item La separación debe pertenecer al rango entre 2 y 180, las estrellas con
valores mayores están demasiado alejadas y desvirtuarían los resultados.
\item El desplazamiento ha de ser superior a 60 para que el movimiento sea
apreciable.
\end{itemize}

\medskip

Las coordenadas de todos los sistemas que sigan dichos criterios serán
almacenadas en un fichero que puede usarse como parámetro de los scripts
descritos en la sección \ref{cap2:sec:imgdownload}.

%-------------------------------------------------------------------
\section{Datasets}
%-------------------------------------------------------------------
\label{cap2:sec:dsets}

Usando las coordenadas obtenidas al filtrar el catálogo WDS, sección
\ref{cap2:sec:wds}, como parámetro de los scripts de Aladin descargamos las
imágenes que conforman el espectro positivo del dataset. Para poder formarlo
completamente se emplearon los generadores de coordenadas para obtener un
número equivalente de casos en los que no hay estrella doble. Con el dataset
completo se decidió aplicar una división común en machine learning que consiste
en partir un dataset en tres, training, test y validation, correspondientes al
60\%, 20\% y 20\%, respectivamente, de los datos.

\medskip

En primer lugar tenemos el training set, estos datos serán los empleados para
generar un modelo que, a priori, funciona. El problema es que, si solo se usa un
set, no hay una forma de comprobar si el modelo funciona, debido a esto se crea
la partición de validación que será empleada para ajustar los parámetros de
decisión. Una vez se han obtenido los resultados esperados es necesaria una
comprobación externa, esto se debe a que el modelo se ha entrenado para acertar
específicamente los datos del set de validación. Este último motivo es el que
justifica la existencia de test set, al examinar los resultados con estos datos
pueden ocurrir dos cosas: si los resultados son buenos el modelo entrenado
funciona, si por el contrario no son los esperados es necesario re-entrenar el
modelo desde cero, no vale con modificar los parámetros.

\medskip

Esta técnica es muy útil debido a que si los datos del training set están
viciados, por ejemplo, si todas las estrellas dobles están a la misma distancia,
una vez se evalúe sobre el test set podremos comprobar que el modelo no es
válido pues tiene en cuenta una distancia que no tiene por qué ser la misma
siempre.
